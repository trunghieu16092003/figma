<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="../output.css">
  <link rel="stylesheet" href="../../global.css" />
  <link rel="stylesheet" href="../../style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
    rel="stylesheet">
  <script src="../components/CardProduct.js"></script>
  <script src="../components/Footer.js"></script>
  <script src="../components/Header.js"></script>
</head>

<body>
  <app-header></app-header>

  <div id="wrapper" class="md:p-10 p-3">
    <div class="mb-5">Trang chủ / <span>Áo thu đông nữ</span></div>
    <div>
        <div class="md:flex md:justify-between">
            <div class="sort md:w-1/5">
               
  
  <!-- Filter Panel -->
  <div id="filterPanel" class="fixed md:static top-0 right-0 w-3/4 max-w-xs h-full md:h-auto bg-white shadow-lg p-4 z-50 transform translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out md:relative md:shadow-none md:bg-transparent md:p-0">
    <div class="flex justify-between items-center mb-4 md:hidden">
      <h2 class="text-lg font-semibold">Bộ lọc</h2>
      <button id="filterClose" class="text-gray-500 text-2xl">&times;</button>
    </div>
  
    <div class="space-y-4">
      <!-- Size -->
      <div class="mb-5">
        <button class="toggle-button w-full py-5 text-left border-b border-b-gray-300 font-medium cursor-pointer flex justify-between items-center" onclick="toggleFilter(this)">
            Size
            <span class="toggle-icon">+</span>
          </button>
        <div class="mt-2 pl-2 hidden">
            <div class="flex gap-2 ">
                <span style="border: 1px solid #e1e1e1;" class="inline-flex items-center justify-center w-12 h-12 border-4 rounded cursor-pointer transition-all hover:border-black active:border-black">S</span>
                <span style="border: 1px solid #e1e1e1;" class="inline-flex items-center justify-center w-12 h-12 border rounded cursor-pointer transition-all hover:border-black active:border-black">M</span>
                <span style="border: 1px solid #e1e1e1;" class="inline-flex items-center justify-center w-12 h-12 border rounded cursor-pointer transition-all hover:border-black active:border-black">L</span>
                <span style="border: 1px solid #e1e1e1;" class="inline-flex items-center justify-center w-12 h-12 border rounded cursor-pointer transition-all hover:border-black active:border-black">XL</span>
                <span style="border: 1px solid #e1e1e1;" class="inline-flex items-center justify-center w-12 h-12 border rounded cursor-pointer transition-all hover:border-black active:border-black">XXL</span>
              </div>  
        </div>
      </div>
  
      <!-- Màu sắc -->
      <div>
        <button class="w-full text-left font-medium outline-none border-b border-b-gray-300" onclick="toggleFilter(this)">Màu sắc</button>
        <div class="mt-2 pl-2 hidden">
          <label><input type="checkbox" name="color" value="Đen" /> Đen</label><br />
          <label><input type="checkbox" name="color" value="Trắng" /> Trắng</label><br />
          <label><input type="checkbox" name="color" value="Đỏ" /> Đỏ</label><br />
          <label><input type="checkbox" name="color" value="Xanh" /> Xanh</label>
        </div>
      </div>
  
      <!-- Giá tiền -->
      <div>
        <button class="w-full text-left py-5 font-medium border-b border-b-gray-300" onclick="toggleFilter(this)">Giá tiền</button>
        <div class="mt-2 pl-2">
            <input 
            type="range" 
            min="0" 
            max="2000000" 
            step="50000" 
            id="priceRange" 
            class="custom-range w-full h-2 rounded-lg appearance-none cursor-pointer " />
          <div>Giá: <span id="priceValue">0</span> VNĐ</div>
        </div>
      </div>
  
      <!-- Chất liệu -->
      <div>
        <button class="w-full text-left font-medium" onclick="toggleFilter(this)">Chất liệu</button>
        <div class="mt-2 pl-2 hidden">
          <label><input type="checkbox" name="material" value="Cotton" /> Cotton</label><br />
          <label><input type="checkbox" name="material" value="Len" /> Len</label><br />
          <label><input type="checkbox" name="material" value="Polyester" /> Polyester</label>
        </div>
      </div>
  
      <!-- Buttons -->
      <div class="flex justify-between gap-2 pt-4">
        <button class="bg-[#AD6E23] text-white px-4 py-2 rounded-md w-full">Lọc</button>
        <button class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md w-full" type="reset">Tạo lại</button>
      </div>
    </div>
  </div>
  
            </div>
           
            <div class="md:w-4/5" >
                <div class="flex justify-between items-center">
                    <h1>Áo thu đông nữ</h1>
                    <div class="flex gap-3 items-center">
                        <form action="">
                            <select name="" id="">
                                <option value="">Sắp xếp theo</option>
                                <option value="">Từ cao đến thấp</option>
                                <option value="">Từ thấp đến cao</option>
                            </select>
                        </form>
                        <div class="flex justify-between items-center mb-4 md:hidden">
                            <button id="filterToggle" class="flex items-center gap-2 text-[#AD6E23] border border-[#AD6E23] px-4 py-2 rounded-md">
                              <i class="fa-solid fa-filter"></i> Lọc
                            </button>
                        </div>
                    </div>
                    
                </div>
                <div class="card-product-container grid grid-cols-2 md:grid-cols-4 gap-4" data-product="product">
                </div>
                <div id="pagination" class="flex justify-center items-center space-x-2">
                <!-- Nút Previous -->
                <button id="prev"
                    class="border border-[#AD6E23] px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 disabled:opacity-50"
                    disabled><i class="fa-solid fa-angles-left"></i></button>

                <!-- Phân trang: Hiển thị số trang cho cả Mobile và Desktop -->
                <button
                    class="border border-[#AD6E23] page-number px-4 py-2 bg-white text-gray-700 rounded-md cursor-pointer hover:bg-gray-300 active:bg-blue-500">1</button>
                <button
                    class="border border-[#AD6E23] page-number px-4 py-2 bg-white text-gray-700 rounded-md cursor-pointer hover:bg-gray-300 active:bg-blue-500">2</button>
                <span class="inline-block px-4 py-2  text-gray-700">...</span>
                <button
                    class="border border-[#AD6E23] page-number px-4 py-2 bg-white text-gray-700 rounded-md cursor-pointer hover:bg-gray-300 active:bg-blue-500">6</button>

                <!-- Nút Next -->
                <button id="next"
                    class="border border-[#AD6E23] px-4 py-2 bg-white text-gray-700 rounded-md hover:bg-gray-300 disabled:opacity-50"><i
                    class="fa-solid fa-angles-right"></i></button>
                </div>
            </div>
        </div>  
    </div>
  </div>
  <app-footer></app-footer>

</body>
<script type="module" src="../renderComponent/renderProduct.js"></script>
<script>
    const filterPanel = document.getElementById('filterPanel');
    const filterToggle = document.getElementById('filterToggle');
    const filterClose = document.getElementById('filterClose');
    const priceRange = document.getElementById('priceRange');
    const priceValue = document.getElementById('priceValue');
  
    function toggleFilter(button) {
  const content = button.nextElementSibling;
  const icon = button.querySelector('.toggle-icon');

  content.classList.toggle('hidden');

  if (icon) {
    icon.textContent = content.classList.contains('hidden') ? '+' : '−';
  }
}

  
    filterToggle?.addEventListener('click', () => {
      filterPanel.classList.remove('translate-x-full');
    });
  
    filterClose?.addEventListener('click', () => {
      filterPanel.classList.add('translate-x-full');
    });
  
    priceRange?.addEventListener('input', () => {
      priceValue.textContent = Number(priceRange.value).toLocaleString();
    });


    function updateRangeBackground(input) {
    const value = ((input.value - input.min) / (input.max - input.min)) * 100;
    input.style.background = `linear-gradient(to right, #AD6E23 0%, #AD6E23 ${value}%, #f6f6f6 ${value}%, #f6f6f6 100%)`;
    }

    priceRange?.addEventListener('input', function () {
        priceValue.textContent = Number(priceRange.value).toLocaleString();
        updateRangeBackground(priceRange);
    });

    updateRangeBackground(priceRange);

  </script>

</html>